=====================================================
  GRAPH EDITOR ‚Äî –§–û–†–ú–ê–¢ –§–ê–ô–õ–£ –ü–†–û–ï–ö–¢–£ (.json)
=====================================================

–§–∞–π–ª –ø—Ä–æ–µ–∫—Ç—É –º—ñ—Å—Ç–∏—Ç—å —Ç—Ä–∏ —Å–µ–∫—Ü—ñ—ó:
  - deviceTypes  ‚Äî –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
  - devices      ‚Äî –ø—Ä–∏—Å—Ç—Ä–æ—ó –Ω–∞ —Å—Ö–µ–º—ñ
  - connections  ‚Äî –∑'—î–¥–Ω–∞–Ω–Ω—è –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏


=====================================================
–ó–ê–ì–ê–õ–¨–ù–ê –°–¢–†–£–ö–¢–£–†–ê
=====================================================

{
  "deviceTypes": [ ... ],
  "devices":     [ ... ],
  "connections": [ ... ]
}


=====================================================
–°–ï–ö–¶–Ü–Ø: deviceTypes (–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤)
=====================================================

–ú–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤. –ö–æ–∂–µ–Ω –æ–±'—î–∫—Ç –æ–ø–∏—Å—É—î –æ–¥–Ω—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é.

–ü–æ–ª—è:
  name   ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞ –Ω–∞–∑–≤–∞ (—É–Ω—ñ–∫–∞–ª—å–Ω–∞, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä)
  label  ‚Äî –≤—ñ–¥–æ–±—Ä–∞–∂—É–≤–∞–Ω–∞ –Ω–∞–∑–≤–∞ —É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ
  color  ‚Äî –∫–æ–ª—ñ—Ä —É —Ñ–æ—Ä–º–∞—Ç—ñ HEX (#rrggbb)
  icon   ‚Äî –µ–º–æ–¥–∑—ñ-—ñ–∫–æ–Ω–∫–∞

–ü—Ä–∏–∫–ª–∞–¥:
  {
    "name":  "valve",
    "label": "–ó–∞—Å—É–≤–∫–∞",
    "color": "#e74c3c",
    "icon":  "üîß"
  }


=====================================================
–°–ï–ö–¶–Ü–Ø: devices (–ø—Ä–∏—Å—Ç—Ä–æ—ó)
=====================================================

–ú–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤. –ö–æ–∂–µ–Ω –æ–±'—î–∫—Ç –æ–ø–∏—Å—É—î –æ–¥–∏–Ω –ø—Ä–∏—Å—Ç—Ä—ñ–π –Ω–∞ —Å—Ö–µ–º—ñ.

–ü–æ–ª—è:
  name        ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∞ –Ω–∞–∑–≤–∞ –ø—Ä–∏—Å—Ç—Ä–æ—é (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä)
  type        ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞ –Ω–∞–∑–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (DeviceType.name), –∞–±–æ null
  description ‚Äî –¥–æ–≤—ñ–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π –æ–ø–∏—Å, –∞–±–æ null
  pos_x       ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X –Ω–∞ –ø–æ–ª–æ—Ç–Ω—ñ (–ø—ñ–∫—Å–µ–ª—ñ, —Ü—ñ–ª–µ —á–∏—Å–ª–æ)
  pos_y       ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y –Ω–∞ –ø–æ–ª–æ—Ç–Ω—ñ (–ø—ñ–∫—Å–µ–ª—ñ, —Ü—ñ–ª–µ —á–∏—Å–ª–æ)
  ports       ‚Äî –º–∞—Å–∏–≤ –ø–æ—Ä—Ç—ñ–≤ –ø—Ä–∏—Å—Ç—Ä–æ—é (–º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º [])

–ü–æ–ª—è –ø–æ—Ä—Ç—É (–æ–±'—î–∫—Ç —É –º–∞—Å–∏–≤—ñ ports):
  name       ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∞ –Ω–∞–∑–≤–∞ –ø–æ—Ä—Ç—É –≤ –º–µ–∂–∞—Ö –ø—Ä–∏—Å—Ç—Ä–æ—é
  direction  ‚Äî –Ω–∞–ø—Ä—è–º–æ–∫: "in" (–≤—Ö—ñ–¥) –∞–±–æ "out" (–≤–∏—Ö—ñ–¥)
  port_order ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä –ø–æ—Ä—Ç—É (—Ü—ñ–ª–µ —á–∏—Å–ª–æ, –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 0)

–ü—Ä–∏–∫–ª–∞–¥:
  {
    "name":        "–ó–∞—Å—É–≤–∫–∞ 1",
    "type":        "valve",
    "description": "–ì–æ–ª–æ–≤–Ω–∞ –∑–∞—Å—É–≤–∫–∞",
    "pos_x":       320,
    "pos_y":       150,
    "ports": [
      { "name": "–í—Ö—ñ–¥",  "direction": "in",  "port_order": 0 },
      { "name": "–í–∏—Ö—ñ–¥", "direction": "out", "port_order": 1 }
    ]
  }


=====================================================
–°–ï–ö–¶–Ü–Ø: connections (–∑'—î–¥–Ω–∞–Ω–Ω—è)
=====================================================

–ú–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤. –ö–æ–∂–µ–Ω –æ–±'—î–∫—Ç –æ–ø–∏—Å—É—î –æ–¥–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –º—ñ–∂ –¥–≤–æ–º–∞ –ø–æ—Ä—Ç–∞–º–∏.

–ü–æ–ª—è:
  source_device ‚Äî –Ω–∞–∑–≤–∞ –ø—Ä–∏—Å—Ç—Ä–æ—é-–¥–∂–µ—Ä–µ–ª–∞
  source_port   ‚Äî –Ω–∞–∑–≤–∞ –ø–æ—Ä—Ç—É-–¥–∂–µ—Ä–µ–ª–∞ (direction: "out")
  target_device ‚Äî –Ω–∞–∑–≤–∞ –ø—Ä–∏—Å—Ç—Ä–æ—é-–ø—Ä–∏–π–º–∞—á–∞
  target_port   ‚Äî –Ω–∞–∑–≤–∞ –ø–æ—Ä—Ç—É-–ø—Ä–∏–π–º–∞—á–∞ (direction: "in")

–ü—Ä–∏–∫–ª–∞–¥:
  {
    "source_device": "–ù–æ—Ä—ñ—è 1",
    "source_port":   "–í–∏—Ö—ñ–¥",
    "target_device": "–ó–∞—Å—É–≤–∫–∞ 1",
    "target_port":   "–í—Ö—ñ–¥"
  }


=====================================================
–ü–û–í–ù–ò–ô –ü–†–ò–ö–õ–ê–î –§–ê–ô–õ–£
=====================================================

{
  "deviceTypes": [
    {
      "name":  "noria",
      "label": "–ù–æ—Ä—ñ—è",
      "color": "#3498db",
      "icon":  "‚öôÔ∏è"
    },
    {
      "name":  "valve",
      "label": "–ó–∞—Å—É–≤–∫–∞",
      "color": "#e74c3c",
      "icon":  "üîß"
    }
  ],
  "devices": [
    {
      "name":        "–ù–æ—Ä—ñ—è 1",
      "type":        "noria",
      "description": null,
      "pos_x":       100,
      "pos_y":       150,
      "ports": [
        { "name": "–í—Ö—ñ–¥",    "direction": "in",  "port_order": 0 },
        { "name": "–í–∏—Ö—ñ–¥ 1", "direction": "out", "port_order": 1 },
        { "name": "–í–∏—Ö—ñ–¥ 2", "direction": "out", "port_order": 2 }
      ]
    },
    {
      "name":        "–ó–∞—Å—É–≤–∫–∞ 1",
      "type":        "valve",
      "description": "–ì–æ–ª–æ–≤–Ω–∞ –∑–∞—Å—É–≤–∫–∞",
      "pos_x":       400,
      "pos_y":       150,
      "ports": [
        { "name": "–í—Ö—ñ–¥",  "direction": "in",  "port_order": 0 },
        { "name": "–í–∏—Ö—ñ–¥", "direction": "out", "port_order": 1 }
      ]
    }
  ],
  "connections": [
    {
      "source_device": "–ù–æ—Ä—ñ—è 1",
      "source_port":   "–í–∏—Ö—ñ–¥ 1",
      "target_device": "–ó–∞—Å—É–≤–∫–∞ 1",
      "target_port":   "–í—Ö—ñ–¥"
    }
  ]
}


=====================================================
–ü–†–ê–í–ò–õ–ê –¢–ê –û–ë–ú–ï–ñ–ï–ù–ù–Ø
=====================================================

- –ù–∞–∑–≤–∏ deviceTypes[].name      ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –≤ –º–µ–∂–∞—Ö —Ñ–∞–π–ª—É
- –ù–∞–∑–≤–∏ devices[].name          ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –≤ –º–µ–∂–∞—Ö —Ñ–∞–π–ª—É
- –ù–∞–∑–≤–∏ ports[].name            ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –≤ –º–µ–∂–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é
- connections[].source_device   ‚Äî –ø–æ–≤–∏–Ω–Ω–∞ –∑–±—ñ–≥–∞—Ç–∏—Å—å –∑ —ñ—Å–Ω—É—é—á–∏–º devices[].name
- connections[].source_port     ‚Äî –ø–æ–≤–∏–Ω–Ω–∞ –∑–±—ñ–≥–∞—Ç–∏—Å—å –∑ —ñ—Å–Ω—É—é—á–∏–º ports[].name —Ç–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é
- –°–∞–º–æ–∑–∞–º–∏–∫–∞–Ω–Ω—è –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ      ‚Äî source_device ‚â† target_device
- –î—É–±–ª—ñ–∫–∞—Ç–∏ –∑'—î–¥–Ω–∞–Ω—å –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ ‚Äî –æ–¥–Ω–∞ –ø–∞—Ä–∞ source+port ‚Üí target+port –º–æ–∂–µ –∑—É—Å—Ç—Ä—ñ—á–∞—Ç–∏—Å—å –ª–∏—à–µ —Ä–∞–∑

=====================================================
