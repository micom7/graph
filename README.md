# –†–µ–¥–∞–∫—Ç–æ—Ä –≥—Ä–∞—Ñ—É –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –∑–µ—Ä–Ω–æ—Å—Ö–æ–≤–∏—â–∞

–í–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–æ–≥–æ –≥—Ä–∞—Ñ—É –º–∞—Ä—à—Ä—É—Ç—ñ–≤ (–º–µ—Ö–∞–Ω—ñ–∑–º–∏ ‚Üí –∑'—î–¥–Ω–∞–Ω–Ω—è) —ñ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º —É JSON-—Ñ–∞–π–ª–∞—Ö.

## –°—Ç–µ–∫

| –®–∞—Ä | –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è |
|-----|-----------|
| Frontend | React 18 + TypeScript + React Flow (`@xyflow/react`) + Zustand |

–ë–µ–∫–µ–Ω–¥ —ñ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ ‚Äî –≤—Å–µ –ø—Ä–∞—Ü—é—î —É –±—Ä–∞—É–∑–µ—Ä—ñ.

## –ó–∞–ø—É—Å–∫

```powershell
cd d:\graph\frontend
npm install   # –ª–∏—à–µ –ø–µ—Ä—à–∏–π —Ä–∞–∑
npm run dev
```

–í—ñ–¥–∫—Ä–∏—Ç–∏ [http://localhost:5173](http://localhost:5173)

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. **–õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å** ‚Äî –∫–ª—ñ–∫–Ω—ñ—Ç—å —Ç–∏–ø –ø—Ä–∏—Å—Ç—Ä–æ—é, —â–æ–± –¥–æ–¥–∞—Ç–∏ –≤—É–∑–æ–ª –Ω–∞ –ø–æ–ª–æ—Ç–Ω–æ.
2. **–ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –Ω–∞ –≤—É–∑–æ–ª** ‚Üí –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –ø—Ä–∞–≤–∞ –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (–Ω–∞–∑–≤–∞, –æ–ø–∏—Å, –ø–æ—Ä—Ç–∏).
3. –ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –≤—É–∑–æ–ª –º–∏—à–µ—é, —â–æ–± –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ–∑–∏—Ü—ñ—é.
4. –ó'—î–¥–Ω–∞–π—Ç–µ **–≤–∏—Ö—ñ–¥–Ω–∏–π –ø–æ—Ä—Ç** (–∑–µ–ª–µ–Ω–∏–π, –ø—Ä–∞–≤–∏–π) –∑ **–≤—Ö—ñ–¥–Ω–∏–º –ø–æ—Ä—Ç–æ–º** (–±–ª–∞–∫–∏—Ç–Ω–∏–π, –ª—ñ–≤–∏–π) —ñ–Ω—à–æ–≥–æ –≤—É–∑–ª–∞.
5. –ö–ª—ñ–∫ –Ω–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è ‚Üí –≤–∏–¥—ñ–ª–µ–Ω–Ω—è; –∫–ª–∞–≤—ñ—à–∞ **Delete** –≤–∏–¥–∞–ª—è—î –≤–∏–¥—ñ–ª–µ–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç.
6. **"üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–∞–π–ª"** ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î `graph.json` –Ω–∞ –∫–æ–º–ø'—é—Ç–µ—Ä.
7. **"üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª"** ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –≥—Ä–∞—Ñ –∑ —Ä–∞–Ω—ñ—à–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ `graph.json`.

–ì—Ä–∞—Ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É `localStorage` –º—ñ–∂ —Å–µ—Å—ñ—è–º–∏.

## –¢–∏–ø–∏ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤

| –ù–∞–∑–≤–∞ | –ö–æ–ª—ñ—Ä |
|-------|-------|
| –ó–∞—Å—É–≤–∫–∞ | —Å–∏–Ω—ñ–π |
| –ù–æ—Ä—ñ—è | –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π |
| –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ—Ä | –∑–µ–ª–µ–Ω–∏–π |
| –†–µ–¥–ª–µ—Ä | —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π |
| –ë—É–Ω–∫–µ—Ä | —á–µ—Ä–≤–æ–Ω–∏–π |
| –°–∏–ª–æ—Å | –±—ñ—Ä—é–∑–æ–≤–∏–π |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
graph/
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/graphStore.ts    Zustand store + –ª–æ–≥—ñ–∫–∞ —Ñ–∞–π–ª—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/graph.ts         TypeScript —Ç–∏–ø–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GraphEditor.tsx    –ì–æ–ª–æ–≤–Ω–µ –ø–æ–ª–æ—Ç–Ω–æ React Flow
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ nodes/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ DeviceNode.tsx –ö–∞—Å—Ç–æ–º–Ω–∏–π –≤—É–∑–æ–ª –∑ –ø–æ—Ä—Ç–∞–º–∏
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ NodeTypes.ts   –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ panels/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ Toolbar.tsx    –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å (–¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤)
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ NodeEditor.tsx –ü—Ä–∞–≤–∞ –ø–∞–Ω–µ–ª—å (—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤—É–∑–ª–∞)
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ SavePanel.tsx  –ù–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å (–≤—ñ–¥–∫—Ä–∏—Ç–∏/–∑–±–µ—Ä–µ–≥—Ç–∏ —Ñ–∞–π–ª)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ SETUP.md
```

## –§–æ—Ä–º–∞—Ç graph.json

```json
{
  "devices": [
    {
      "id": 1,
      "type_id": 2,
      "type": "noria",
      "name": "–ù–æ—Ä—ñ—è 1",
      "description": null,
      "pos_x": 300,
      "pos_y": 150,
      "ports": [
        { "id": 1, "direction": "in",  "name": "–í—Ö—ñ–¥ –∑–Ω–∏–∑—É", "port_order": 0 },
        { "id": 2, "direction": "out", "name": "–í–∏—Ö—ñ–¥ –≤–≥–æ—Ä—É", "port_order": 0 }
      ]
    }
  ],
  "connections": [
    { "id": 1, "source_port": 2, "target_port": 3 }
  ]
}
```
