# –†–µ–¥–∞–∫—Ç–æ—Ä –≥—Ä–∞—Ñ—É –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –∑–µ—Ä–Ω–æ—Å—Ö–æ–≤–∏—â–∞

–í–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–æ–≥–æ –≥—Ä–∞—Ñ—É –º–∞—Ä—à—Ä—É—Ç—ñ–≤ (–º–µ—Ö–∞–Ω—ñ–∑–º–∏ ‚Üí –∑'—î–¥–Ω–∞–Ω–Ω—è) —ñ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º —É JSON-—Ñ–∞–π–ª–∞—Ö.

## –°—Ç–µ–∫

| –®–∞—Ä | –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è |
|-----|-----------|
| Frontend | React 18 + TypeScript + React Flow (`@xyflow/react`) + Zustand |
| –ó–±—ñ—Ä–∫–∞ | Vite |
| –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è | Docker + nginx |

–ë–µ–∫–µ–Ω–¥ —ñ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ ‚Äî –≤—Å–µ –ø—Ä–∞—Ü—é—î —É –±—Ä–∞—É–∑–µ—Ä—ñ.

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```powershell
docker compose up -d --build
```

–í—ñ–¥–∫—Ä–∏—Ç–∏ [http://localhost:5173](http://localhost:5173)

> –ó—É–ø–∏–Ω–∏—Ç–∏: `docker compose down`

## –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker (–¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)

```powershell
cd frontend
npm install   # –ª–∏—à–µ –ø–µ—Ä—à–∏–π —Ä–∞–∑
npm run dev
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. **–õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å** ‚Äî –∫–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤. –ö–ª—ñ–∫ –¥–æ–¥–∞—î –Ω–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π –Ω–∞ –ø–æ–ª–æ—Ç–Ω–æ.
2. **–ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π** ‚Äî –≤—ñ–¥–∫—Ä–∏–≤–∞—î –ø—Ä–∞–≤—É –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (–Ω–∞–∑–≤–∞, –æ–ø–∏—Å, –ø–æ—Ä—Ç–∏).
3. –ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π –º–∏—à–µ—é, —â–æ–± –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ –ø–æ–∑–∏—Ü—ñ—é.
4. –ó'—î–¥–Ω–∞–π—Ç–µ **–≤–∏—Ö—ñ–¥–Ω–∏–π –ø–æ—Ä—Ç** (–∑–µ–ª–µ–Ω–∏–π, –ø—Ä–∞–≤–∏–π) –∑ **–≤—Ö—ñ–¥–Ω–∏–º –ø–æ—Ä—Ç–æ–º** (–±–ª–∞–∫–∏—Ç–Ω–∏–π, –ª—ñ–≤–∏–π) —ñ–Ω—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é.
5. –í–∏–¥—ñ–ª—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π –∞–±–æ –∑'—î–¥–Ω–∞–Ω–Ω—è ‚Üí –∫–ª–∞–≤—ñ—à–∞ **Delete** –≤–∏–¥–∞–ª—è—î –π–æ–≥–æ.
6. **"üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ —Ñ–∞–π–ª"** ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î `graph.json` –Ω–∞ –∫–æ–º–ø'—é—Ç–µ—Ä.
7. **"üìÇ –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª"** ‚Äî –≤—ñ–¥–Ω–æ–≤–ª—é—î –≥—Ä–∞—Ñ —ñ–∑ —Ä–∞–Ω—ñ—à–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ —Ñ–∞–π–ª—É.
8. **"üÜï –ù–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç"** ‚Äî –æ—á–∏—â–∞—î –ø–æ–ª–æ—Ç–Ω–æ (–ø–æ—Ç—Ä–µ–±—É—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è).

–ì—Ä–∞—Ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É `localStorage` –º—ñ–∂ —Å–µ—Å—ñ—è–º–∏.

## –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤

–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –Ω–µ —î —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º–∏ ‚Äî –≤–æ–Ω–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É –æ–∫—Ä–µ–º–æ —ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ç–æ–º—É –∂ JSON-—Ñ–∞–π–ª—ñ.

–ö–Ω–æ–ø–∫–∞ **"+ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è"** –Ω–∞ –ª—ñ–≤—ñ–π –ø–∞–Ω–µ–ª—ñ –¥–æ–∑–≤–æ–ª—è—î:
- –∑–∞–¥–∞—Ç–∏ —Å–∏—Å—Ç–µ–º–Ω—É –Ω–∞–∑–≤—É, –≤—ñ–¥–æ–±—Ä–∞–∂—É–≤–∞–Ω—É –Ω–∞–∑–≤—É, –∫–æ–ª—ñ—Ä —ñ –µ–º–æ–¥–∑—ñ-—ñ–∫–æ–Ω–∫—É
- —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∞–±–æ –≤–∏–¥–∞–ª—è—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
graph/
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/graphStore.ts    Zustand store + –ª–æ–≥—ñ–∫–∞ —Ñ–∞–π–ª—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/graph.ts         TypeScript —Ç–∏–ø–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GraphEditor.tsx    –ì–æ–ª–æ–≤–Ω–µ –ø–æ–ª–æ—Ç–Ω–æ React Flow
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ nodes/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ DeviceNode.tsx –ö–∞—Å—Ç–æ–º–Ω–∏–π –≤—É–∑–æ–ª –∑ –ø–æ—Ä—Ç–∞–º–∏
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ NodeTypes.ts   –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ –≤—É–∑–ª—ñ–≤
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ panels/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ Toolbar.tsx    –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å (–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤)
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ NodeEditor.tsx –ü—Ä–∞–≤–∞ –ø–∞–Ω–µ–ª—å (—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é)
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ SavePanel.tsx  –ù–∏–∂–Ω—è –ø–∞–Ω–µ–ª—å (–Ω–æ–≤–∏–π/–≤—ñ–¥–∫—Ä–∏—Ç–∏/–∑–±–µ—Ä–µ–≥—Ç–∏)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ –Ü–ù–°–¢–†–£–ö–¶–Ü–Ø.txt         –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∑–∞–ø—É—Å–∫ —ñ–∑ tar)
‚îú‚îÄ‚îÄ –§–û–†–ú–ê–¢_JSON.txt        –û–ø–∏—Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ñ–∞–π–ª—É –ø—Ä–æ–µ–∫—Ç—É
‚îî‚îÄ‚îÄ README.md
```

## –§–æ—Ä–º–∞—Ç graph.json

```json
{
  "deviceTypes": [
    {
      "name":  "noria",
      "label": "–ù–æ—Ä—ñ—è",
      "color": "#3498db",
      "icon":  "‚öôÔ∏è"
    }
  ],
  "devices": [
    {
      "name":        "–ù–æ—Ä—ñ—è 1",
      "type":        "noria",
      "description": null,
      "pos_x":       300,
      "pos_y":       150,
      "ports": [
        { "name": "–í—Ö—ñ–¥",  "direction": "in",  "port_order": 0 },
        { "name": "–í–∏—Ö—ñ–¥", "direction": "out", "port_order": 1 }
      ]
    }
  ],
  "connections": [
    {
      "source_device": "–ù–æ—Ä—ñ—è 1",
      "source_port":   "–í–∏—Ö—ñ–¥",
      "target_device": "–ó–∞—Å—É–≤–∫–∞ 1",
      "target_port":   "–í—Ö—ñ–¥"
    }
  ]
}
```

–î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —É—Å—ñ—Ö –ø–æ–ª—ñ–≤ ‚Äî —É —Ñ–∞–π–ª—ñ [–§–û–†–ú–ê–¢_JSON.txt](–§–û–†–ú–ê–¢_JSON.txt).
